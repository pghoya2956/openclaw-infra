# defaults.yml — 모든 persona.yml에 deep-merge되는 공유 기본값
# persona.yml에서 같은 키를 지정하면 해당 값이 우선됨
# 배열은 replace (append 아님), null은 키 삭제

# --- EC2 인스턴스 ---
instance:
  type: t3.medium
  volumeSize: 30               # GB (gp3)

# --- 인프라 옵션 ---
infra:
  traefik: true                # HTTPS 리버스 프록시. 아웃바운드 전용 채널만 쓰면 false 가능
  extensions: []               # 확장 채널 npm 패키지 (예: ["@openclaw/googlechat"])
  systemDeps: []               # 추가 시스템 패키지 (예: ["java-21-amazon-corretto"])

# --- OpenClaw 설정 (openclaw.json에 1:1 매핑) ---
# 이 섹션은 onboard 후 openclaw.json에 deep-merge됨
# 키 이름은 OpenClaw 네이티브와 동일 — 변환 로직 없음
# 시크릿(토큰, API 키)은 여기에 적지 않음 → .env.{name}에서 환경변수로 주입
#
# 전체 설정 레퍼런스: personas/SETTINGS.md

openclaw:
  channels:
    defaults:
      groupPolicy: open

  gateway:
    bind: lan
    port: 18789
    trustedProxies:
      - "172.28.0.2"           # Traefik Docker IP

  tools:
    exec:
      ask: always

  agents:
    defaults:
      workspace: /home/ec2-user/.openclaw/workspace

  logging:
    redactSensitive: tools
    redactPatterns:
      - "xoxb-"
      - "xapp-"
      - "sk-ant-"
